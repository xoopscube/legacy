<div class="ui-dev-mode"><{$smarty.template}></div>

<{* ----- D3 Module Name + Category selection *}>
<h2><{$mod_name}> » <{$smarty.const._MD_D3FORUM_CATEGORY}> » <{$cat_title}></h2>


<{* ////— ACTION-CONTROL —\\\\ *}>
<section layout="row center-justify" class="action-control">

    <div>
        <form name="selectcategory" action="<{$mod_url}>/admin/index.php" method="get">
            <input type="hidden" name="page" value="category_access">
            <label for="select_cat_id"><{$smarty.const._MD_A_D3FORUM_LABEL_SELECTCATEGORY}></label>:
            <select name="cat_id" id="select_cat_id"><{html_options options=$cat_options selected=$cat_id}></select>
            <input type="submit" value="<{$smarty.const._SUBMIT}>">
        </form>
    </div>

    <div class="control-view">

        <a class="button" href="<{$mod_url}>/index.php?page=categorymanager&amp;cat_id=<{$cat_id}>"><{$smarty.const._EDIT}></a>
        <a class="button" href="<{$mod_url}>/index.php?page=makecategory&amp;cat_id=<{$cat_id}>"><{$smarty.const._MD_D3FORUM_LINK_MAKESUBCATEGORY}></a>
        <a class="button" href="<{$mod_url}>/index.php?page=makeforum&amp;cat_id=<{$cat_id}>"><{$smarty.const._MD_D3FORUM_LINK_MAKEFORUM}></a>

        <button class="help-admin button" type="button" data-id="4" data-module="<{$mydirname}>" data-help-article="#help-forum-start" aria-label="<{$smarty.const._HELP}>">
            <b>?</b>
        </button>
    </div>

</section>

<{* group form *}>
<h3 class="head"><{$smarty.const._MD_A_D3FORUM_H2_GROUPPERMS}></h3>

<form name="groupperms" action="<{$mod_url}>/admin/index.php?page=category_access&amp;cat_id=<{$cat_id}>" method="post">
	<{$gticket_hidden}>
	<table class="outer">
		<thead>
		<tr>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_GROUPNAME}>
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_READ}>
				<input type="checkbox" onclick="with(document.groupperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&elements[i].id.indexOf('gcol_1_')>=0){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_POST}>
				<input type="checkbox" onclick="with(document.groupperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&elements[i].id.indexOf('gcol_2_')>=0){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_EDIT}>
				<input type="checkbox" onclick="with(document.groupperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&elements[i].id.indexOf('gcol_3_')>=0){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_DELETE}>
				<input type="checkbox" onclick="with(document.groupperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&elements[i].id.indexOf('gcol_4_')>=0){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_POST_AUTO_APPROVED}>
				<input type="checkbox" onclick="with(document.groupperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&elements[i].id.indexOf('gcol_5_')>=0){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_IS_MODERATOR}>
				<input type="checkbox" onclick="with(document.groupperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&elements[i].id.indexOf('gcol_6_')>=0){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_MAKEFORUM}>
				<input type="checkbox" onclick="with(document.groupperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&elements[i].id.indexOf('gcol_7_')>=0){elements[i].checked=this.checked;}}}">
			</th>
		</tr>
	</thead>
	<tbody>
		<{$group_trs}>
	</tbody>
	<tfoot>
		<tr>
			<td colspan="100"><input type="submit" name="group_update" value="<{$smarty.const._SUBMIT}>"></td>
		</tr>
	</tfoot>
	</table>
</form>


<{* user form *}>
<h3 class="head"><{$smarty.const._MD_A_D3FORUM_H2_USERPERMS}></h3>
<div class="tips"><{$smarty.const._MD_A_D3FORUM_NOTICE_ADDUSERS}></div>

<form name="userperms" action="<{$mod_url}>/admin/index.php?page=category_access&amp;cat_id=<{$cat_id}>" method="post">
	<{$gticket_hidden}>
	<table class="outer">
		<thead>
		<tr>
			<th><{$smarty.const._MD_A_D3FORUM_TH_UID}></th>
			<th><{$smarty.const._MD_A_D3FORUM_TH_UNAME}></th>
			<th><{$smarty.const._MD_A_D3FORUM_TH_CAN_READ}></th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_POST}>
				<input type="checkbox" onclick="with(document.userperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&(elements[i].id.indexOf('ucol_2_')>=0||elements[i].id.indexOf('ncol_2_')>=0)){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_EDIT}>
				<input type="checkbox" onclick="with(document.userperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&(elements[i].id.indexOf('ucol_3_')>=0||elements[i].id.indexOf('ncol_3_')>=0)){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_DELETE}>
				<input type="checkbox" onclick="with(document.userperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&(elements[i].id.indexOf('ucol_4_')>=0||elements[i].id.indexOf('ncol_4_')>=0)){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_POST_AUTO_APPROVED}>
				<input type="checkbox" onclick="with(document.userperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&(elements[i].id.indexOf('ucol_5_')>=0||elements[i].id.indexOf('ncol_5_')>=0)){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_IS_MODERATOR}>
				<input type="checkbox" onclick="with(document.userperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&(elements[i].id.indexOf('ucol_6_')>=0||elements[i].id.indexOf('ncol_6_')>=0)){elements[i].checked=this.checked;}}}">
			</th>
			<th>
				<{$smarty.const._MD_A_D3FORUM_TH_CAN_MAKEFORUM}>
				<input type="checkbox" onclick="with(document.userperms){for(i=0;i<length;i++){if(elements[i].type=='checkbox'&&(elements[i].id.indexOf('ucol_7_')>=0||elements[i].id.indexOf('ncol_7_')>=0)){elements[i].checked=this.checked;}}}">
			</th>
		</tr>
	</thead>
	<tbody>
		<{$user_trs}>
		<{$newuser_trs}>
	</tbody>
	<tfoot>
		<tr>
			<td colspan="100"><input type="submit" name="user_update" value="<{$smarty.const._SUBMIT}>"></td>
		</tr>
	</tfoot>
	</table>
</form>

