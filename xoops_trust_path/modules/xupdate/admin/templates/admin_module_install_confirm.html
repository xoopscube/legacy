<div id="contentBody">

<{include file="admin_navi.html"}>

<h3 class="admintitle"><{$smarty.const._MI_XUPDATE_ADMENU_ADDONSTORE}></h3>
<{include file="admin_menunavi.html"}>
<{include file="admin_tips.html"}>

<div class="confirm"><{$smarty.const._MI_XUPDATE_ADMENU_MODULE}> - <{$smarty.const._MI_XUPDATE_DEPLOY}></div>
<{if $actionForm->hasError() && $actionForm->getErrorMessages()}>
<div class="error">
  <ul>
    <{foreach item=message from=$actionForm->getErrorMessages()}>
      <li><{$message|xoops_escape}></li>
    <{/foreach}>
  </ul>
</div>
<{/if}>
<form action="index.php?action=ModuleInstall" method="post">
  <{xoops_token form=$actionForm}>
  <{xoops_input type=hidden name=confirm value=1}>

<table class="outer">
  <tr>
    <th>name</th>
    <th>value</th>
  </tr>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select">id</td>
    <td class="legacy_list_select">
        <{xoops_input type=hidden name=id value=$id }>
        <{$id|xoops_escape:show}>
    </td>
  </tr>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select"><{$smarty.const._MD_XUPDATE_LANG_SID}></td>
    <td class="legacy_list_select">
        <{xoops_input type=hidden name=sid value=$sid }>
        <{$sid|xoops_escape:show}>
    </td>
  </tr>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select"><{$smarty.const._MI_XUPDATE_FTP_ADDON_URL}></td>
    <td class="legacy_list_select">
        <{xoops_input type=hidden name=addon_url value=$addon_url }>
        <{$addon_url|xoops_escape:show}>
    </td>
  </tr>
  <!--<tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select">unzipdirlevel</td>
    <td class="legacy_list_select">
        <{xoops_input type=hidden name=unzipdirlevel value=$unzipdirlevel }>
        <{$unzipdirlevel|xoops_escape:show}>
    </td>
  </tr>-->
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select">target_key</td>
    <td class="legacy_list_select">
        <{xoops_input type=hidden name=target_key value=$target_key }>
        <{$target_key|xoops_escape:show}>
    </td>
  </tr>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select">target_type</td>
    <td class="legacy_list_select">
        <{xoops_input type=hidden name=target_type value=$target_type }>
        <{$target_type|xoops_escape:show}>
    </td>
  </tr>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select">trust_dirname</td>
    <td class="legacy_list_select">
        <{xoops_input type=hidden name=trust_dirname value=$trust_dirname }>
        <{$trust_dirname|xoops_escape:show}>
    </td>
  </tr>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select">dirname</td>
    <td class="legacy_list_select">
<{*
    <{if $target_type == 'TrustModule'}>
        <{xoops_input type=text name=dirname value=$dirname }>
    <{else}>
        <{xoops_input type=hidden name=dirname value=$dirname }>
        <{$dirname|xoops_escape:show}>
    <{/if}>
*}>
        <{xoops_input type=hidden name=dirname value=$dirname }>
        <{$dirname|xoops_escape:show}>
    </td>
  </tr>
  <{if $target_type == 'TrustModule'}>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select"><{$smarty.const._AD_XUPDATE_HTML_ONLY}></td>
    <td class="legacy_list_select">
      <table>
        <tr>
          <td class='even'><{$smarty.const._AD_XUPDATE_HTML_ONLY_DESC}></td>
          <td class="even"><{xoops_input type=checkbox name=html_only value=1 }></td>
        </tr>
      </table>
    </td>
  </tr>
  <{/if}>
  <{if $options.writable_dir || $options.writable_file || $options.install_only || $options.delete_dir || $options.delete_file}>
  <tr class="<{cycle values='odd,even'}>">
    <td class="legacy_list_select">options</td>
    <td class="legacy_list_select">
    <table>
       <{if $options.writable_dir}>
        <tr><th class="ehad" colspan="2"><{$smarty.const._AD_XUPDATE_LANG_WRITABLE_DIR}></th></tr>
       <{foreach from=$options.writable_dir item=_item}>
        <tr>
        <td class='even'><{$_item}></td>
        <td class='even'><input type='checkbox' name='writable_dir[]' id='writable_dir_' value='<{$_item}>' <{if $_item}>checked="checked"<{/if}> /></td>
        </tr>
        <{/foreach}>
        <{/if}>
        <{if $options.writable_file}>
        <tr><th class="ehad" colspan="2"><{$smarty.const._AD_XUPDATE_LANG_WRITABLE_FILE}></th></tr>
        <{foreach from=$options.writable_file item=_item}>
        <tr>
            <td class='even'><{$_item}></td>
            <td class='even'><input type='checkbox' name='writable_file[]' id='writable_file_' value='<{$_item}>' <{if $_item}>checked="checked"<{/if}> /></td>
        </tr>
        <{/foreach}>
        <{/if}>
        <{if $options.install_only}>
        <tr><th class="ehad" colspan="2"><{$smarty.const._AD_XUPDATE_LANG_INSTALL_ONLY}></th></tr>
        <{foreach from=$options.install_only item=_item}>
        <tr>
            <td class='even'><{$_item}></td>
            <td class='even'><input type='checkbox' name='install_only[]' id='install_only_' value='<{$_item}>' /></td>
        </tr>
        <{/foreach}>
        <{/if}>
       <{if $options.delete_dir}>
        <tr><th class="ehad" colspan="2"><{$smarty.const._AD_XUPDATE_LANG_DELETE_DIR}></th></tr>
       <{foreach from=$options.delete_dir item=_item}>
        <tr>
        <td class='even'><{$_item}></td>
        <td class='even'><input type='checkbox' name='delete_dir[]' id='delete_dir_' value='<{$_item}>' checked="checked" /></td>
        </tr>
        <{/foreach}>
        <{/if}>
       <{if $options.delete_file}>
        <tr><th class="ehad" colspan="2"><{$smarty.const._AD_XUPDATE_LANG_DELETE_FILE}></th></tr>
       <{foreach from=$options.delete_file item=_item}>
        <tr>
        <td class='even'><{$_item}></td>
        <td class='even'><input type='checkbox' name='delete_file[]' id='delete_file_' value='<{$_item}>' checked="checked" /></td>
        </tr>
        <{/foreach}>
        <{/if}>
  </table>
    </td>
  </tr>
  <{/if}>
  <tr>
    <td class="foot" colspan="2">
       <{if !$actionForm->getErrorMessages()}>
      <input class="formButton" type="submit" value="<{$smarty.const._MI_XUPDATE_DEPLOY}>" />
      <{/if}>
      <input class="formButton" type="submit" value="<{$smarty.const._BACK}>" name="_form_control_cancel" />
    </td>
  </tr>
</table>
</form>

<div id="xupdate_boxes">
    <!-- #customize your modal window here -->
    <div id="xupdate_dialog" class="window">
    <{$smarty.const._MI_XUPDATE_PROG_PROCESSING}>
    <div class="progress_bar"><img src="../images/progress-bar.gif" alt=""></div>
    </div>
    <!-- Do not remove div#mask, because you'll need it to fill the whole screen --> 
    <div id="xupdate_mask"></div>
</div>

</div>
