<{foreach item=module from=$modules}>

<{assign var=mid value=$module->mXoopsModule->getVar('mid')}>
<{assign var=dirname value=$module->mXoopsModule->getVar('dirname', 'N')}>
<{assign var=icon value=$module->mXoopsModule->getInfo('icon')}>

<{* $module->modinfo.icon *}>

<{if $module->hasAdminIndex()}>

<li>

	<div class="nav-block">
		<{if $module->mXoopsModule->getInfo('icon')}>
		<span class="nav-module-icon"><img class="svg" src="<{$xoops_url}>/modules/<{$dirname}>/<{$icon}>"></span>
		<{/if}>
		<span class="nav-module-name t<{$mid}>"><{$module->mXoopsModule->getVar('name')}></span>
	</div>


		<ul class="nav-module-admin nav-block-close c<{$mid}>">


		<{if $module->getAdminMenu()}>


			<{* ---------- ---------- ---------- ---------- ---------- Module Admin Links *}>


			<{foreach item=menu from=$module->getAdminMenu()}>
				<{if $menu.show !== false}>
				<li class="nav-module-link"><a href="<{$menu.link|xoops_escape:link}>"><{$menu.title|xoops_escape}></a></li>
				<{/if}>
			<{/foreach}>


			<{* ---------- ---------- ---------- ---------- ---------- Module Admin Options *}>

			<li class="nav-module-link nav-module-options">


				<{* ---------- ---------- ---------- ---------- ---------- Module Edit *}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleEdit&amp;mid=<{$mid}>" aria-label="<{$smarty.const._EDIT}>">
					<img class="svg" src="<{'icons/icon-edit.svg'|theme}>" width="1em" height="1em" alt="edit">
				</a>


				<{* ---------- ---------- ---------- ---------- ---------- Module Blocks *}>

				<{if $module->mXoopsModule->getInfo('blocks') && $dirname != "legacy" && $dirname != "altsys"  && $dirname != "system"}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=BlockList&amp;dirname=<{$dirname}>" aria-label="<{$smarty.const._MI_LEGACY_MENU_BLOCKLIST}>">
					<img class="svg" src="<{'icons/icon-block-active.svg'|theme}>" width="1em" height="1em" alt="block-active">
				</a>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=BlockInstallList&amp;dirname=<{$dirname}>" aria-label="<{$smarty.const._MI_LEGACY_MENU_BLOCKINSTALL}>">
					<img class="svg" src="<{'icons/icon-block-install.svg'|theme}>" width="1em" height="1em" alt="block-install">
				</a>

				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Templates *}>


				<{if $dirname != "legacyRender" && $dirname != "altsys"  && $dirname != "system"}>
				<{foreach item=tplmodule from=$tplmodules}>
				<{if $dirname == $tplmodule}>
				<a href="<{$xoops_url}>/modules/legacyRender/admin/index.php?action=TplfileList&amp;tpl_module=<{$dirname}>&amp;sort=-9" aria-label="<{$smarty.const._AD_LEGACY_LANG_TEMPLATE_INFO}>">
					<img class="svg" src="<{'icons/icon-view.svg'|theme}>" width="1em" height="1em" alt="view">
				</a>
				<{/if}>
				<{/foreach}>
				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Comments *}>


				<{if $module->mXoopsModule->getInfo('hasComments')}>
				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=CommentList&amp;com_modid=<{$mid}>&amp;sort=-8" aria-label="<{$smarty.const._MI_LEGACY_MENU_COMMENT_MANAGE}>">
					<img class="svg" src="<{'icons/icon-comments.svg'|theme}>" width="1em" height="1em" alt="comments">
				</a>
				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Update *}>


				<{if $module->mXoopsModule->hasNeedUpdate()}>
				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleUpdate&amp;dirname=<{$dirname}>" aria-label="<{$smarty.const._AD_LEGACY_LANG_UPGRADE}>">
					<img class="svg" src="<{'icons/icon-install.svg'|theme}>" width="1em" height="1em" alt="module-update">
				</a>
				<{else}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleUpdate&amp;dirname=<{$dirname}>" aria-label="<{$smarty.const._AD_LEGACY_LANG_UPGRADE}>">
					<img class="svg" src="<{'icons/icon-update.svg'|theme}>" width="1em" height="1em" alt="update">
				</a>
				<{/if}>


				<{* ---------- ---------- ---------- ---------- ---------- Module Info *}>

				<a href="<{$xoops_url}>/modules/legacy/admin/index.php?action=ModuleInfo&amp;dirname=<{$dirname}>" aria-label="<{$smarty.const._AD_LEGACY_LANG_INFORMATION}>">
					<img class="svg" src="<{'icons/icon-info.svg'|theme}>" width="1em" height="1em" alt="info">
				</a>

			</li>

			<{else}>


			<{* ---------- ---------- ---------- ---------- ---------- Module No-Settings *}>

			<li class="nav-module-link">

				<{$smarty.const._AD_LEGACY_LANG_NO_SETTING}>

			</li>

			<{/if}>

		</ul>

	</li>

  <{/if}>

<{/foreach}>
